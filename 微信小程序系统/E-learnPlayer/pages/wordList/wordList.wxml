<!--pages/wordList/wordList.wxml-->
<image class="background" src="../../icons/english.png"></image>
<view class="container_index">
<view wx:if="{{!showCountdown}}" class="container_index">
   <!-- Áî®Êà∑‰ø°ÊÅØ -->
   <view class="user-info" bindtap="navigateToUser">
    <image class="avatar" src="{{userData.userInfo.head}}" mode="aspectFill"></image>
    <view class="user-details">
      <text class="nickname" style="font-size: 22px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5)" bindtap="navigateToUser">{{userData.userInfo.nickName}}</text>
      <text class="level">\nÊ∞¥Âπ≥Ôºö{{userData.levelInfo.grade}}</text>
      <text class="rank">\nLV : {{userData.userInfo.rank}}</text>
    </view>
    <view class="currency">
      <text class="gold">üí∞: {{userData.userInfo.gold}}</text>
      <text class="jewel">üíé: {{userData.userInfo.jewel}}</text>
    </view>
  </view>
  <!-- ÈªÑËâ≤ÂàÜÂâ≤Á∫ø -->
  <view class="divider"></view>
  <!-- ÂçïËØçÂàóË°® -->
  <scroll-view class="word-scroll" scroll-y="true">
    <view wx:for="{{wordList}}" wx:key="index" class="word-item" bindtap="showWordDetail" data-index="{{index}}">
      <!-- ÂçïËØç‰ø°ÊÅØÊòæÁ§∫ -->
      <view class="word-item-content">
        <text class="word" style="font-weight: bold; font-size: 18px;">{{item.wordsInfo.word}}</text>
        <!-- Ëã±Èü≥ÂèëÈü≥ÂõæÁâá -->
        <text>\n</text>
        <image class="pronounce-icon" src="../../icons/sound.png" bindtap="playPronunciation" data-word="{{item.wordsInfo.ukPronounce}}" data-type="1"></image>
        
        <text class="word" style="color:gray;">  Ëã±/'{{item.wordsInfo.ukPhonetic}}'/</text>
        <!-- ÁæéÈü≥ÂèëÈü≥ÂõæÁâá -->
        <image class="pronounce-icon" src="../../icons/sound.png" bindtap="playPronunciation" data-word="{{item.wordsInfo.usPronounce}}" data-type="2"></image>
        <text class="word" style="color: gray;">  Áæé/'{{item.wordsInfo.usPhonetic}}'/ \n</text>
        <!-- <text class="word">\n{{item.wordSynonymsInfoList.partOfSpeech}}.</text> -->
        <!-- Âæ™ÁéØÂ±ïÁ§∫ÂéªÈáçÂêéÁöÑ partOfSpeech Âíå translation -->
      <view wx:for="{{item.wordSynonymsInfoList}}" wx:key="index" wx:for-item="synonym" wx:for-index="idx">
        <!-- Âú®Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊàñËÄÖÂΩìÂâçÂÖÉÁ¥†ÁöÑ partOfSpeech ‰∏éÂâç‰∏Ä‰∏™ÂÖÉÁ¥†‰∏çÂêåÊó∂ÔºåÂ±ïÁ§∫ partOfSpeech -->
        <block wx:if="{{idx === 0 || synonym.partOfSpeech !== item.wordSynonymsInfoList[idx - 1].partOfSpeech}}">
          <view>{{synonym.partOfSpeech}}.  {{synonym.translation}}</view>
        </block>        
      </view>
        <!-- <text class="translation">{{item.translation}}</text> -->
      </view>
      <view class="divider-line"></view>
    </view>
  </scroll-view>

  <!-- Ready Go ÊåâÈíÆ -->
  <button class="ready-go-btn" bindtap="startWordChallenge">Ready GoÔºÅ</button>
</view>
  <!-- ÂÄíËÆ°Êó∂ÁªÑ‰ª∂ -->
  <block wx:if="{{showCountdown}}">

    <countdown bind:countdownEnd="onCountdownEnd" />
  </block>

</view>  