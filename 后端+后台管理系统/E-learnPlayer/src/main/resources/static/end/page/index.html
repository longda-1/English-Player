<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>åå°ç®¡ç†ç³»ç»Ÿ</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/font-awesome.css" rel="stylesheet"/>
    <link href="../css/basic.css" rel="stylesheet"/>
    <link href="../css/custom.css" rel="stylesheet"/>
    <link href="../css/my.css" rel="stylesheet"/>
    <link href="../css/element/index.css" rel="stylesheet"/>

    <style>
        [v-cloak] {
            display: none;
        }
        .info-block {
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
            background-color: #f9f9f9;
        }
        .info-title {
            font-size: 1.5em;
            margin-bottom: 10px;
        }
        .admin-info {
            display: flex;
            align-items: center;
        }
        .admin-info img {
            border-radius: 50%;
            width: 100px;
            height: 100px;
            margin-right: 20px;
        }
        .admin-details {
            display: flex;
            flex-direction: column;
        }
        .admin-details .name {
            font-size: 1.8em;
            font-weight: bold;
        }
    </style>
</head>
<body>
<div id="wrapper">
    <nav class="navbar navbar-default navbar-cls-top" style="margin-bottom: 0">
        <div class="navbar-header">
            <a class="navbar-brand" href="index.html">åå°ç®¡ç†ç³»ç»Ÿ</a>
        </div>
        <div class="header-right">
            <a href="javascript:void (0)" class="btn bg-info" @click="logout" title="é€€å‡ºç™»å½•"><!--logout-->
                <i class="fa fa-sign-out fa-2x"></i>
            </a>
        </div>
        <div class="header-right">
            <a href="accountAdInfo.html" class="btn bg-info"  title="è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒ">
                <i class="fa fa-user fa-2x"></i>
            </a>
        </div>
        <div class="header-right" style="padding-top: 25px">
<!--            <div>{{ ad }}</div>-->
            æ¬¢è¿ä½ ï¼Œ{{ad.nickName}}
        </div>
    </nav>
    <nav class="navbar-default navbar-side" >
        <div class="sidebar-collapse">
            <ul class="nav" id="main_menu">
                <li>
                    <a class="active-menu" href="index.html"><i class="fa fa-dashboard"></i> é¦–é¡µ </a>
                </li>
                <li>
                    <a href="#"><i class="fa fa-yelp"></i> ä¿¡æ¯ç®¡ç† <span class="fa arrow"></span> </a>
                    <ul class="nav nav-second-level collapse in">
                        <li><a href="UserInfo.html"><i class="fa fa-table"></i> ç”¨æˆ·ç®¡ç† </a></li>
                        <li><a href="level.html"><i class="fa fa-table"></i> è‹±è¯­æ°´å¹³ç®¡ç† </a></li>
                        <li><a href="#"><i class="fa fa-yelp"></i> å•è¯ç®¡ç† <span class="fa arrow"></span> </a>
                        <ul class="nav nav-third-level collapse in " style="margin-left: 30px;">
                            <li><a href="wordBook.html"><i class="fa fa-table"></i> å•è¯ä¹¦ç®¡ç† </a></li>
                            <li><a href="WordInfo.html"><i class="fa fa-table"></i> å•è¯è¡¨ç®¡ç† </a></li>
                        </ul>
                        </li>
                        <li><a href="#"><i class="fa fa-yelp"></i> é˜…è¯»ç®¡ç† <span class="fa arrow"></span> </a>
                            <ul class="nav nav-second-level collapse in"style="margin-left: 30px;">
                                <li><a href="read.html"><i class="fa fa-table"></i> é˜…è¯»æ–‡ç« ç®¡ç† </a></li>
                                <li><a href="readSub.html"><i class="fa fa-table"></i> é˜…è¯»ä¸Šä¼  </a></li>
                            </ul>
                        </li>
                        <li><a href="#"><i class="fa fa-yelp"></i> å¬åŠ›ç®¡ç† <span class="fa arrow"></span> </a>
                            <ul class="nav nav-second-level collapse in"style="margin-left: 30px;">
                                <li><a href="listen.html"><i class="fa fa-table"></i> å¬åŠ›ææ–™ç®¡ç† </a></li>
                                <li><a href="listenSub.html"><i class="fa fa-table"></i> å¬åŠ›ä¸Šä¼  </a></li>
                            </ul>
                        </li>
                    </ul>
                </li>

                <li>
                    <a href="#"><i class="fa fa-yelp"></i> ç³»ç»Ÿç®¡ç† <span class="fa arrow"></span> </a>
                    <ul class="nav nav-second-level collapse in">
                        <li><a href="accountAdInfo.html"><i class="fa fa-user"></i> ä¸ªäººä¸­å¿ƒ </a></li>
                        <li><a href="updateadPassword.html"><i class="fa fa-unlock-alt"></i> ä¿®æ”¹å¯†ç  </a></li>
                    </ul>
                </li>

                <li><a href="login.html"><i class="fa fa-power-off"></i> é€€å‡ºç™»å½• </a></li>

            </ul>
        </div>
    </nav>

    <!--å³ä¾§-->
    <div id = "page-wrapper">
        <div id="page-inner">
            <div class="info-block admin-info">
                <img :src="`${serverBaseUrl}${ad.head}`" alt="ç”¨æˆ·å¤´åƒ" style="width: 100px; height: 100px;">
                <div class="admin-details">
                    <div class="name">{{ ad.adName }}</div>
                    <div>æ˜µç§°: {{ ad.nickName }}</div>
                    <div>è”ç³»æ–¹å¼: {{ ad.adPhone }}</div>
                    <div>é‚®ç®±: {{ ad.email }}</div>
                </div>
            </div>
            <div class="info-block">
                <div class="info-title">å…¬å‘Š</div>
                <div v-for="notice in notices" :key="notice.id">
                    <p>{{notice.id}}.{{ notice.content }}</p>
                </div>
            </div>
            <div class="info-block">
                <div class="info-title">æŠ½å¥–æ´»åŠ¨çš„æ¦‚ç‡</div>
                <div v-for="index in lotteryProbabilities" :key="index.medalId">
                    <p>{{ index.medalId }}: {{ index.medalName }} ({{ medalProbabilities[index.medalId] }})</p>
                </div>
            </div>
            <div class="info-block">
                <div class="info-title">ç”¨æˆ·ä¿¡ç®±</div>
                <div v-for="message in userMessages" :key="message.id">
                    <p>{{message.id}}.æ¥è‡ª{{ message.sender }}: {{ message.content }}</p>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../js/jquery-1.10.2.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/jquery.metisMenu.js"></script>
<script src="../js/custom.js"></script>
<script src="../js/my.js"></script>
<script src="../js/vue2.6.11/vue.min.js"></script>
<script src="../js/vue2.6.11/axios.js"></script>
<script src="../js/echarts.min.js"></script>
<script src="../js/element/index.js"></script>


<script>

    new Vue({
        el: "#wrapper",
        data: {
            serverBaseUrl: 'http://localhost:8000/', // æœåŠ¡å™¨åŸºç¡€ URL
            ad:{},
            notices: [
                { id: 1, content: "ç³»ç»Ÿå°†äºæ˜å¤©æ—©ä¸Š8ç‚¹è¿›è¡Œç»´æŠ¤ã€‚" },
                { id: 2, content: "ğŸ“£å…¬å‘Šï¼šæ¸©æ•…è€ŒçŸ¥æ–°å¯ä»¥å¸®åŠ©ä½ æ›´å¿«æŒæ¡ä¸ä¼šçš„å•è¯å“¦~" }
            ],
            lotteryProbabilities: {},
            userMessages: [
                { id: 1, sender: 'ç”¨æˆ·A', content: 'æˆ‘æœ‰ä¸€ä¸ªé—®é¢˜...' },
                { id: 2, sender: 'ç”¨æˆ·B', content: 'ç³»ç»Ÿä½¿ç”¨èµ·æ¥å¾ˆæ£’ï¼' }
            ],
            medalProbabilities: {
                1: 0.8,
                2: 0.1,
                3: 0.09,
                4: 0.01
            }
        },
        created: function (){
            // æ‰“å°ä»æœ¬åœ°ç¼“å­˜ä¸­è·å–åˆ°çš„ç”¨æˆ·ä¿¡æ¯ï¼Œç”¨äºè°ƒè¯•
            // console.log('è·å–åˆ°çš„ç”¨æˆ·ä¿¡æ¯ï¼š', localStorage.getItem('ad'));
            // console.log(localStorage.getItem('ad'));

            this.ad = JSON.parse(localStorage.getItem('ad'));
            this.fetchMedalInfo();
            // è§£æä»æœ¬åœ°ç¼“å­˜ä¸­è·å–åˆ°çš„ç”¨æˆ·ä¿¡æ¯ï¼Œç”¨äºè°ƒè¯•
            // console.log('è§£æåçš„ç”¨æˆ·ä¿¡æ¯ï¼š', this.ad);
        },
        methods: {
            handleFileUpload(event) {
                const file = event.target.files[0];
                if(file){
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        this.head = e.target.result; // å°†å›¾ç‰‡æ•°æ®èµ‹å€¼ç»™ userInfo.head
                        this.newUser.userInfo.head = file.name;
                    };
                    reader.readAsDataURL(file);
                }
            },
            fetchMedalInfo: function () {
                axios.get('/MedalInfo/getAllMedalInfo')
                    .then(response => {
                        console.log(response.data);
                        this.lotteryProbabilities = response.data.data;
                    })
                    .catch(error => {
                        console.error('Failed to fetch medal info:', error);
                    });
            },
        }
    });
</script>

</body>
</html>